(this["webpackJsonptp-final-cinema"]=this["webpackJsonptp-final-cinema"]||[]).push([[0],{351:function(e,t,n){},353:function(e,t,n){},376:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},380:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){},389:function(e,t,n){},488:function(e,t,n){},493:function(e,t,n){},494:function(e,t,n){},495:function(e,t,n){},496:function(e,t,n){},497:function(e,t,n){},498:function(e,t,n){},499:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},503:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(57),i=n.n(c),s=n(26),o=n(33),l=n(37),d=n(161),u=n(307),j=n(17),b="userInit",m="userOk",p="userError",h="cinemaInit",f="cinemaOk",v="cinemaError",x="getUsersStart",O="getUsersSuccess",g="getUsersError",y="movieListItemstart",w="movieListItemSuccess",N="movieListItemError",k="getVideosStart",S="getVideosSuccess",C="getVideosError",_={loading:!1,items:[],error:""},E={},F={loading:!1,items:[],error:""},T={items:[],loading:!1,error:""},I={loading:!1,videos:[],error:""},B="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,D=Object(d.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case O:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload,loading:!1});case g:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:"No se pudo obtener usuarios"});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)({},e);case m:return t.payload?{email:t.payload.email,role:t.payload.role,name:t.payload.name,idDB:t.payload.idDB,sessionToken:t.payload.sessionToken}:e;case p:return{data:{errorCode:400}};default:return e}},cinema:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case f:return Object(j.a)(Object(j.a)({},e),{},{items:t.payload,loading:!1});case v:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:"No se pudo el listado de cinema"});default:return e}},cinemaFb:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case w:return{items:t.payload,loading:!1};case N:return{error:{errorCode:400},loading:!1};default:return e}},videos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case S:return Object(j.a)(Object(j.a)({},e),{},{videos:t.payload,loading:!1});case C:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,error:"No se pudo el listado de cinema"});default:return e}}}),L=Object(d.d)(D,B(Object(d.a)(u.a))),U=n.p+"static/media/image.23fc8bfe.png",z=(n(351),n(2)),M=function(e){var t=e.stars/2.09/5*100,n=Math.round(t);return Object(z.jsx)("div",{className:"stars-gray",children:Object(z.jsx)("div",{className:"stars-yellow",style:{width:n+"px"}})})},q=n(559),W=n(269),H=n(270),A=n(551),R=(n(353),n(14)),P=n.n(R),V=n(21),Q=n(237),Y=n.n(Q),G=Y.a.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:"27aab3b2bf6c01cadfe55264df006e92"}}),J=Y.a.create({baseURL:"https://cinema-series-4172d-default-rtdb.firebaseio.com/"}),X=function(e){return function(){var t=Object(V.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n($()),t.prev=1,t.next=4,G.get("/movie/".concat(e,"/videos"));case 4:a=t.sent,n(K(a.data.results)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(Z(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},$=function(){return{type:k,payload:[]}},K=function(e){return{type:S,payload:e}},Z=function(e){return{type:C,error:{message:e}}},ee=Object(A.a)({card:{backgroundColor:"#041738",border:"1px solid #ff0054",color:"#ffffff"}}),te=function(e){var t=e.items,n=Object(o.f)().push,a=ee(),r=Object(l.b)();return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(q.a,{sx:{display:["flex","flex","grid","grid"],flexWrap:"wrap",columnGap:4,gridTemplateColumns:["repeat 1","repeat(2, 1fr)","repeat(3, 1fr)","repeat(4, 1fr)"],width:"100%",justifyContent:"center"},children:null===t||void 0===t?void 0:t.map((function(e){var t=e.poster_path?"http://image.tmdb.org/t/p/w500".concat(e.poster_path):"".concat(U);return Object(z.jsx)("div",{id:"".concat(e.id),children:Object(z.jsx)(W.a,{className:a.card,sx:{width:["80vw","40vw","30vw","17rem"],height:["38rem","40rem","40rem","33rem"],padding:"1rem",borderRadius:"1rem",marginBottom:"1.5rem"},variant:"outlined",children:Object(z.jsxs)("div",{className:"button-detail",onClick:function(){return t=e.id,n("/details/".concat(t)),void r(X(t));var t},children:[Object(z.jsx)("img",{src:t,alt:e.original_title,loading:"lazy",className:"image"}),Object(z.jsx)(H.a,{sx:{fontSize:14,fontFamily:"'Quicksand', sans-serif"},children:e.original_title?e.original_title:e.original_name}),Object(z.jsx)(H.a,{sx:{fontSize:14,fontFamily:"'Quicksand', sans-serif"},children:e.vote_average}),Object(z.jsx)(M,{stars:e.vote_average}),Object(z.jsx)(Ue,{item:e})]})})})}))})})},ne=n(11),ae=n(314),re=n.n(ae),ce=n(313),ie=n.n(ce),se=n(316),oe=n.n(se),le=n(315),de=n.n(le),ue=n(272),je=n(306),be=(n(376),function(){return{type:h,payload:[]}}),me=function(e){return{type:f,payload:e}},pe=function(e){return{type:v,error:{message:e}}},he=function(e){var t=[];for(var n in e)t.push(Object(j.a)(Object(j.a)({},e[n]),{},{idDB:n}));return t},fe=function(e){return function(){var t=Object(V.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ve()),t.prev=1,t.next=4,J.post("/movieList.json",e);case 4:return t.next=6,J.get("/movieList.json");case 6:a=t.sent,n(xe(he(a.data))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(Oe(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(){return{type:y,payload:[]}},xe=function(e){return{type:w,payload:e}},Oe=function(e){return{type:N,payload:e.toString()}},ge=function(e){return function(){var t=Object(V.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ve()),t.prev=1,t.next=4,J.delete("/movieList/".concat(e,".json"));case 4:return t.next=6,J.get("/movieList.json");case 6:a=t.sent,n(xe(he(a.data))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(Oe(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(e,t){return function(){var n=Object(V.a)(P.a.mark((function n(a){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ve()),n.prev=1,n.next=4,J.patch("/movieList/".concat(t,".json"),e);case 4:return n.next=6,J.get("/movieList.json");case 6:r=n.sent,a(xe(he(r.data))),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),a(Oe(n.t0));case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},we=function(){var e=new URLSearchParams(window.location.search),t=parseInt(e.get("page"))||1,n=Object(o.g)().id,r=Object(a.useState)(""),c=Object(ne.a)(r,2),i=c[0],s=c[1],d=Object(l.b)(),u=Object(l.c)((function(e){return e.cinema})).items,j=Object(l.c)((function(e){return e.videos})).videos,b=Object(l.c)((function(e){return e.cinemaFb}));return Object(a.useEffect)((function(){d(function(){var e=Object(V.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ve()),e.prev=1,e.next=4,J.get("/movieList.json");case 4:n=e.sent,t(xe(he(n.data))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Oe(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){d(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return function(){var n=Object(V.a)(P.a.mark((function n(a){var r,c;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a(be()),n.prev=1,!t){n.next=9;break}return n.next=5,G.get("/search/multi?query=".concat(t,"&page=").concat(e));case 5:r=n.sent,a(me(r.data)),n.next=13;break;case 9:return n.next=11,G.get("/movie/top_rated?page=".concat(e));case 11:c=n.sent,a(me(c.data));case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),a(pe(n.t0));case 18:case"end":return n.stop()}}),n,null,[[1,15]])})));return function(e){return n.apply(this,arguments)}}()}(t,i))}),[d,t,i]),Object(a.useEffect)((function(){n&&d(X(Number(n)))}),[]),{items:u,setSearch:s,dataMovieFb:b,videos:j}},Ne=function(e){return function(){var t=Object(V.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(ke());try{n(Se(e))}catch(a){n(Ce(a))}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ke=function(){return{type:b,payload:[]}},Se=function(e){return{type:m,payload:e}},Ce=function(e){return{type:p,error:{message:e}}},_e=function(){var e=Object(a.useState)(),t=Object(ne.a)(e,2),n=t[0],r=t[1],c=Object(l.c)((function(e){return e.user})),i=Object(l.b)(),s=De().users,d=Object(o.f)().push,u=Object(a.useState)(localStorage.getItem("user-token")||void 0),b=Object(ne.a)(u,2),m=b[0],p=b[1];Object(a.useEffect)((function(){v()}),[s]);var h=function(){var e=Object(V.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Math.random().toString(36).substr(2),e.next=4,J.patch("/users/".concat(t.idDB,".json"),{sessionToken:n});case 4:return e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m&&localStorage.setItem("user-token",m)}),[m]);var f=function(){var e=Object(V.a)(P.a.mark((function e(t,n){var a,c,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(c=null===(a=s.items)||void 0===a?void 0:a.find((function(e){return e.email===t&&e.password===n})))){e.next=9;break}return e.next=5,h(c);case 5:(o=e.sent)?(p(o),i(Ne(Object(j.a)(Object(j.a)({},c),{},{sessionToken:o})))):r(!1),e.next=10;break;case 9:throw new Error("El usuario no existe");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(V.a)(P.a.mark((function e(){var t,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{m&&(t=null===(n=s.items)||void 0===n?void 0:n.find((function(e){return e.sessionToken===m}))),t?(i(Ne(t)),r(!0)):r(!1)}catch(a){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isUserLogged:!!localStorage.getItem("user-token"),login:f,loginWithToken:v,logout:function(){localStorage.removeItem("user-token"),d("/login"),i(Se(void 0))},hasUserLoggedIn:n,currentUser:c}},Ee=function(){return function(){var e=Object(V.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Fe()),e.prev=1,e.next=4,J.get("/users.json");case 4:n=e.sent,t(Te(he(n.data))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(Ie(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},Fe=function(){return{type:x,payload:[]}},Te=function(e){return{type:O,payload:e}},Ie=function(e){return{type:g,payload:e.toString()}},Be=function(e){return function(){var t=Object(V.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Fe()),t.prev=1,t.next=4,J.post("/users.json",e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n(Ie(t.t0));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()},De=function(){var e=Object(l.b)(),t=Object(o.f)().push,n=Object(l.c)((function(e){return e.users}));Object(a.useEffect)((function(){e(Ee())}),[]);var r=function(){var n=Object(V.a)(P.a.mark((function n(a){return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(Be(a));case 2:c(),t("/login");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),c=function(){var t=Object(V.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Ee());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{users:n,addUser:r,removeUserfromList:function(t){e(function(e){return function(){var t=Object(V.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Fe()),t.prev=1,console.log("redux",e),t.next=5,J.delete("/users/".concat(e,".json"));case 5:return t.next=7,J.get("/users.json");case 7:a=t.sent,n(Te(he(a.data))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Ie(t.t0));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}()}(t)),console.log("hook",t)}}},Le=r.a.forwardRef((function(e,t){return Object(z.jsx)(je.a,Object(j.a)({elevation:6,ref:t,variant:"filled"},e))})),Ue=function(e){var t,n=e.item,r=function(){var e=Object(a.useState)(),t=Object(ne.a)(e,2),n=t[0],r=t[1],c=Object(l.b)(),i=_e().currentUser,s=function(){var e=Object(V.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return r("The item was succeeded saved"),a=n.media_type?n:Object(j.a)(Object(j.a)({},n),{},{media_type:"movie"}),e.next=5,c(fe(a));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(V.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return r("The item was succeeded deleted"),e.next=4,c(ge(t.idDB));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(V.a)(P.a.mark((function e(t,n){var a,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r("The item was succeeded saved as WATCHED"),null===(a=(null===t||void 0===t?void 0:t.watched)?null===t||void 0===t?void 0:t.watched:[])||void 0===a?void 0:a.includes(i.idDB)){e.next=7;break}return null===a||void 0===a||a.push(i.idDB),s=Object(j.a)(Object(j.a)({},n),{},{watched:a}),e.next=7,c(ye(s,null===t||void 0===t?void 0:t.idDB));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(V.a)(P.a.mark((function e(t,n){var a,s,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==(null===(a=(null===t||void 0===t?void 0:t.watched)?null===t||void 0===t?void 0:t.watched:[])||void 0===a?void 0:a.includes(i.idDB))){e.next=8;break}return r("The item was succeeded removed from WATCHED"),s=null===a||void 0===a?void 0:a.indexOf(i.idDB),null===a||void 0===a||a.splice(s,1),o=Object(j.a)(Object(j.a)({},n),{},{watched:a}),e.next=8,c(ye(o,null===t||void 0===t?void 0:t.idDB));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{addItem:s,removeItem:o,watchedItem:d,notWatchedItem:u,text:n}}(),c=r.addItem,i=r.removeItem,s=r.text,o=r.watchedItem,d=r.notWatchedItem,u=_e().currentUser,b=we().dataMovieFb.items.find((function(e){return e.id===n.id})),m=null===b||void 0===b||null===(t=b.watched)||void 0===t?void 0:t.includes(u.idDB),p=!!b,h=Object(a.useState)(p),f=Object(ne.a)(h,2),v=f[0],x=f[1],O=Object(a.useState)(!1),g=Object(ne.a)(O,2),y=g[0],w=g[1],N=Object(a.useState)(!1),k=Object(ne.a)(N,2),S=k[0],C=k[1],_=function(e,t){"clickaway"!==t&&C(!1)},E=function(){C(!0)},F=m?"#e59500":"#ff0054",T=b?"#e59500":"#ff0054";return Object(z.jsxs)(z.Fragment,{children:["admin"===u.role?Object(z.jsxs)("button",{className:"taggle-button",value:"check",style:{backgroundColor:T},onClick:function(e){e.stopPropagation(),x(!v),E(),v?i(b):c(b,n)},children:[b?Object(z.jsx)(ie.a,{className:"taggle-button-icon"}):Object(z.jsx)(re.a,{className:"taggle-button-icon"}),b?"DELETE":"ADD"]}):Object(z.jsxs)("button",{className:"taggle-button",style:{backgroundColor:F},value:"check",onClick:function(e){e.stopPropagation(),w(!y),E(),console.log(y),m?d(b,n):o(b,n)},children:[m?Object(z.jsx)(de.a,{className:"taggle-button-icon"}):Object(z.jsx)(oe.a,{className:"taggle-button-icon"}),m?"NOT WATCHED":"WATCHED"]}),"admin"===u.role?Object(z.jsx)(ue.a,{open:S,autoHideDuration:6e3,onClose:_,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(z.jsx)(Le,{onClose:_,severity:"success",sx:{width:"100%",backgroundColor:T},children:s})}):Object(z.jsx)(ue.a,{open:S,autoHideDuration:6e3,onClose:_,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(z.jsx)(Le,{onClose:_,severity:"success",sx:{width:"100%",backgroundColor:F},children:s})})]})},ze=(n(377),function(e){var t,n=e.videos,a=Object(o.g)().id,r=we(),c=r.items,i=r.dataMovieFb,s=null===(t=c.results)||void 0===t?void 0:t.find((function(e){return e.id.toString()===a})),l=i.items.find((function(e){return e.id.toString()===a})),d=s||l,u=(null===d||void 0===d?void 0:d.poster_path)?"http://image.tmdb.org/t/p/w500".concat(d.poster_path):"".concat(U);return Object(z.jsxs)(q.a,{className:"details",sx:{width:["95%","80%"],display:"flex",justifyContent:"center",flexDirection:["column","column","row","row"],backgroundColor:"#041738",border:"1px solid #ff0054",color:"#ffffff"},children:[Object(z.jsxs)(q.a,{className:"details-videos",sx:{width:["100%","100%","50%","50%"]},children:[Object(z.jsx)("h2",{className:"text-title",children:(null===d||void 0===d?void 0:d.original_title)?d.original_title:null===d||void 0===d?void 0:d.original_name}),Object(z.jsx)("p",{className:"text-overview",children:null===d||void 0===d?void 0:d.overview}),Object(z.jsxs)("div",{className:"container-text",children:[Object(z.jsx)("p",{children:(null===d||void 0===d?void 0:d.release_date)?Object(z.jsxs)("span",{children:["Release date: ",null===d||void 0===d?void 0:d.release_date]}):Object(z.jsxs)("span",{children:["First air date: ",null===d||void 0===d?void 0:d.first_air_date]})}),Object(z.jsxs)("p",{children:["Language: ",null===d||void 0===d?void 0:d.original_language]}),Object(z.jsx)("h3",{className:"trailers",children:"Trailers"})]}),Object(z.jsx)("div",{className:"container-videos",children:n.length>0&&(null===n||void 0===n?void 0:n.map((function(e){return Object(z.jsx)("iframe",{id:"".concat(e.id),className:"video",width:1===n.length?"100%":"45%",height:1===n.length?330:200,src:"https://www.youtube.com/embed/".concat(e.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})))})]}),Object(z.jsx)(q.a,{sx:{width:["100%","100%","50%","50%"]},children:Object(z.jsx)("img",{src:u,alt:(null===d||void 0===d?void 0:d.original_title)?d.original_title:null===d||void 0===d?void 0:d.original_name,loading:"lazy",className:"image"})})]})});n(378);var Me=Object(A.a)({card:{backgroundColor:"#041738",border:"1px solid #ff0054",color:"#ffffff"}}),qe=function(e){var t=e.items,n=Object(o.f)().push,a=Me(),r=Object(l.b)();return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(q.a,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",width:"80%"},children:null===t||void 0===t?void 0:t.map((function(e){var t=e.poster_path?"http://image.tmdb.org/t/p/w500".concat(e.poster_path):"".concat(U);return Object(z.jsx)("div",{id:"".concat(e.id),children:Object(z.jsx)(W.a,{className:a.card,sx:{width:["12rem","10rem"],height:["22rem","20rem"],padding:"1rem",borderRadius:"1rem",margin:"1rem"},variant:"outlined",children:Object(z.jsxs)("div",{className:"button-detail",onClick:function(){return t=e.id,n("/details/".concat(t)),void r(X(t));var t},children:[Object(z.jsx)("img",{src:t,alt:e.original_title,loading:"lazy",className:"image"}),Object(z.jsx)(H.a,{sx:{fontSize:14,fontFamily:"'Quicksand', sans-serif"},children:e.original_title?e.original_title:e.original_name}),Object(z.jsx)(H.a,{sx:{fontSize:14,fontFamily:"'Quicksand', sans-serif"},children:e.vote_average}),Object(z.jsx)(M,{stars:e.vote_average})]})})})}))})})},We=function(e){var t=e.children,n=e.hidenHeader,a=e.hidenFotter;return Object(z.jsxs)(z.Fragment,{children:[!n&&Object(z.jsx)(ht,{}),Object(z.jsx)(He,{children:t}),!a&&Object(z.jsx)(Pe,{})]})},He=(n(379),function(e){var t=e.children;return Object(z.jsx)("main",{className:"main",children:t})}),Ae=n(317),Re=n.n(Ae),Pe=(n(380),function(){return Object(z.jsxs)("footer",{className:"footer",children:[Object(z.jsx)("p",{children:"Made with"}),Object(z.jsx)(Re.a,{sx:{color:"#10002b"}}),Object(z.jsx)("p",{children:"by San"})]})}),Ve=n(558),Qe=(n(381),function(e){var t=e.page,n=Object(o.f)().push;return Object(z.jsx)("div",{className:"pagination",children:Object(z.jsx)(Ve.a,{onChange:function(e,t){n("/admin?page=".concat(t))},count:t,variant:"outlined",color:"primary"})})}),Ye=function(e){var t=e.items,n=e.pageNumber;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(te,{items:t}),Object(z.jsx)(Qe,{page:n})]})},Ge=n(318),Je=n.n(Ge),Xe=n(319),$e=n.n(Xe),Ke=n.p+"static/media/cine.b00e8d4b.png",Ze=(n(382),function(){var e=Object(a.useState)("none"),t=Object(ne.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)("flex"),i=Object(ne.a)(c,2),o=i[0],l=i[1],d=_e(),u=d.currentUser,j=d.logout,b=u.role;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(q.a,{className:"navBar",sx:{display:["none","none","flex","flex"],justifyContent:"space-between",marginBottom:"2rem"},children:[Object(z.jsxs)("div",{className:"cointainer-logo",children:[Object(z.jsx)("img",{src:Ke,alt:"cine",className:"cinema-logo"}),Object(z.jsx)(H.a,{className:"name-app",children:"CINEMA"})]}),Object(z.jsxs)(q.a,{children:[Object(z.jsx)(s.b,{to:"/",className:"link-nav",children:"Home"}),Object(z.jsx)(s.b,{to:"/movies",className:"link-nav",children:"Movies"}),Object(z.jsx)(s.b,{to:"/series",className:"link-nav",children:"Series"}),"admin"===b&&Object(z.jsx)(s.b,{to:"/admin?page=1",className:"link-nav",children:"Admin"}),"admin"===b&&Object(z.jsx)(s.b,{to:"/users",className:"link-nav",children:"Users"}),Object(z.jsx)("button",{className:"nav-button",onClick:j,children:"Exit"})]})]}),Object(z.jsxs)(q.a,{className:"nav-responsive",sx:{display:[o,o,"none","none"],color:"white",height:"3rem",marginBottom:"2rem"},children:[Object(z.jsx)("button",{onClick:function(){r("flex"),l("none")},className:"button-menu",children:Object(z.jsx)(Je.a,{className:"menu"})}),Object(z.jsxs)("div",{className:"cointainer-logo",children:[Object(z.jsx)("img",{src:Ke,alt:"cine",className:"cinema-logo"}),Object(z.jsx)(H.a,{className:"name-app",children:"CINEMA"})]})]}),Object(z.jsxs)(q.a,{className:"nav-responsive-options",sx:{display:[n,n,"none","none"],zIndex:20,top:0},children:[Object(z.jsx)("button",{className:"close-button",onClick:function(){r("none"),l("flex")},children:Object(z.jsx)($e.a,{})}),Object(z.jsxs)(q.a,{sx:{display:[n,n,"none","none"],flexDirection:"column",backgroundColor:"white",zIndex:20,top:0},children:[Object(z.jsx)(s.b,{to:"/",className:"link-nav",children:"Home"}),Object(z.jsx)(s.b,{to:"/movies",className:"link-nav",children:"Movies"}),Object(z.jsx)(s.b,{to:"/series",className:"link-nav",children:"Series"}),"admin"===b&&Object(z.jsx)(s.b,{to:"/admin?page=1",className:"link-nav",children:"Admin"}),"admin"===b&&Object(z.jsx)(s.b,{to:"/users",className:"link-nav",children:"Users"}),Object(z.jsx)("button",{className:"nav-button",onClick:j,children:"Exit"})]})]})]})}),et=n(3),tt=n(4),nt=n(276),at=n(278),rt=n(273),ct=n(111),it=n(275),st=n(277),ot=n(274),lt=n(204),dt=n(271),ut=n(320),jt=n.n(ut),bt=(n(383),Object(tt.a)(rt.a)((function(e){var t,n=e.theme;return t={},Object(et.a)(t,"&.".concat(ct.a.head),{backgroundColor:"#ff0054",color:n.palette.common.white}),Object(et.a)(t,"&.".concat(ct.a.body),{fontSize:14,backgroundColor:"#041738",color:n.palette.common.white,borderColor:"#ff0054"}),t}))),mt=Object(tt.a)(ot.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),pt=function(){var e,t=De(),n=t.users,a=t.removeUserfromList;return Object(z.jsx)(q.a,{className:"container",children:Object(z.jsx)(it.a,{component:lt.a,children:Object(z.jsxs)(nt.a,{sx:{minWidth:700},"aria-label":"customized table",children:[Object(z.jsx)(st.a,{children:Object(z.jsxs)(ot.a,{children:[Object(z.jsx)(bt,{children:"Name"}),Object(z.jsx)(bt,{align:"right",children:"Apellido"}),Object(z.jsx)(bt,{align:"right",children:" Email"}),Object(z.jsx)(bt,{align:"right",children:"Fecha de nacimiento"}),Object(z.jsx)(bt,{align:"right",children:"Role"}),Object(z.jsx)(bt,{align:"right"})]})}),Object(z.jsx)(at.a,{children:null===n||void 0===n||null===(e=n.items)||void 0===e?void 0:e.map((function(e){return Object(z.jsxs)(mt,{children:[Object(z.jsx)(bt,{component:"th",scope:"row",children:e.name}),Object(z.jsx)(bt,{align:"right",children:e.lastName}),Object(z.jsx)(bt,{align:"right",children:e.email}),Object(z.jsx)(bt,{align:"right",children:e.birthday}),Object(z.jsx)(bt,{align:"right",children:e.role}),Object(z.jsx)(bt,{align:"right",children:Object(z.jsx)(dt.a,{"aria-label":"delete",size:"large",onClick:function(){return t=e.idDB,void a(t);var t},children:Object(z.jsx)(jt.a,{fontSize:"inherit",sx:{color:"#ff0054"}})})})]},e.name)}))})]})})})},ht=(n(384),function(){return Object(z.jsx)("header",{className:"header",children:Object(z.jsx)(Ze,{})})}),ft=n(321),vt=n.n(ft),xt=function(){var e=Object(a.useState)(),t=Object(ne.a)(e,1)[0];return Object(z.jsx)("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(z.jsx)(vt.a,{color:"#555",loading:t,size:60})})},Ot=["/login","/sign-up"],gt=["/details","/movies","/series","/"],yt=function(e){return function(){var t=Object(o.f)(),n=t.push,a=t.location,r=_e(),c=r.isUserLogged,i=r.currentUser;return void 0===c?Object(z.jsx)(xt,{}):(c&&Ot.includes(a.pathname)&&n("/"),!1!==c||Ot.includes(a.pathname)||n("/login"),"user"!==i.role||gt.includes(a.pathname)||n("/movies"),Object(z.jsx)(e,{}))}},wt=(n(389),yt((function(){var e=we().dataMovieFb,t=_e().currentUser;return Object(z.jsx)(We,{children:Object(z.jsxs)("div",{className:"home",children:[Object(z.jsxs)("div",{className:"hello-text",children:[Object(z.jsx)("span",{children:"Hola "}),Object(z.jsx)("span",{children:t.name})]}),Object(z.jsx)(te,{items:e.items})]})})}))),Nt=n(80),kt=n(210),St=n(75),Ct=St.a().shape({email:St.b().email("Invalid email format").required("This field is required"),password:St.b().required("This field is required").matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/,"Your password has to contain at least 8 characters one letter and one number")}),_t={email:"",password:""},Et=(n(488),function(){var e,t,n=_e().login,a=Object(o.f)().push,r=Object(Nt.d)({resolver:Object(kt.a)(Ct),defaultValues:_t}),c=r.register,i=r.formState.errors,l=r.handleSubmit,d=function(){var e=Object(V.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(t.email,t.password);case 3:a("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)(q.a,{sx:{width:["100%","80%","80%","50%"]},className:"login-form",children:Object(z.jsxs)("form",{action:"",onSubmit:l(d),children:[Object(z.jsx)("div",{className:"title-login-form",children:Object(z.jsx)("h2",{children:"Login"})}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"email",children:"Email"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"email",type:"text",placeholder:"Enter your email"},c("email"))),null===(e=i.email)||void 0===e?void 0:e.message]}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"password",children:"Password"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"password",type:"password",placeholder:"Enter your password"},c("password"))),null===(t=i.password)||void 0===t?void 0:t.message]}),Object(z.jsx)("div",{className:"button-container",children:Object(z.jsx)("button",{className:"button",type:"submit",children:"Send"})}),Object(z.jsx)("div",{className:"link-container",children:Object(z.jsx)(s.b,{to:"sign-up",className:"link-login-form",children:"Register"})}),Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"Admin: san@gmail.com"}),Object(z.jsx)("p",{children:"Password: asd12345"})]})]})})}),Ft=n.p+"static/media/serie1.7281d56f.jpeg",Tt=n.p+"static/media/it.c0e354f1.jpeg",It=n.p+"static/media/bigBang.d4263752.jpeg",Bt=n.p+"static/media/benjamin-button.66c02af1.jpeg",Dt=n(325),Lt=n.n(Dt),Ut=(n(493),function(){var e=[{src:Ft,name:"breaking bad"},{src:Tt,name:"it"},{src:It,name:"bigBang"},{src:Bt,name:"benjamin Button"}];return Object(z.jsxs)(We,{hidenHeader:!0,hidenFotter:!0,children:[Object(z.jsx)(q.a,{sx:{flexWrap:"wrap"},className:"login",children:Object(z.jsx)(Et,{})}),Object(z.jsx)(Lt.a,{className:"carousel",indicators:!1,children:e.map((function(e,t){return Object(z.jsx)(q.a,{sx:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.src,")")},className:"box-carousel-image"})}))})]})}),zt=St.a().shape({name:St.b().required("This field is required"),lastName:St.b().required("This field is required"),birthday:St.b().required("This field is required"),email:St.b().email("Invalid email format").required("This field is required"),password:St.b().required("This field is required").matches(/^(?=.*[a-z])(?=.*\d)[a-z\d\w\W]{8,}$/,"Your password has to contain at least 8 characters one letter and one number")}),Mt={name:"",lastName:"",birthday:"",email:"",password:"",role:"user"},qt=(n(494),function(){var e,t,n,a,r,c=De().addUser,i=Object(Nt.d)({resolver:Object(kt.a)(zt),defaultValues:Mt}),s=i.register,o=i.formState.errors,l=i.handleSubmit,d=function(){var e=Object(V.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)("div",{className:"singup-form",children:Object(z.jsxs)("form",{className:"form",action:"",onSubmit:l(d),children:[Object(z.jsx)("div",{children:Object(z.jsx)("h2",{className:"title-sign-up",children:"Sign Up"})}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"name",children:"Name"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"name",type:"text",placeholder:"Enter your name"},s("name"))),null===(e=o.name)||void 0===e?void 0:e.message]}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"lastname",children:"Last name"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"lastname",type:"text",placeholder:"Enter your last name"},s("lastName"))),null===(t=o.lastName)||void 0===t?void 0:t.message]}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"birthday",children:"Birthday"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"birthday",type:"date",placeholder:"Enter your email"},s("birthday"))),null===(n=o.birthday)||void 0===n?void 0:n.message]}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"email",children:"Email"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"email",type:"text",placeholder:"Enter your email"},s("email"))),null===(a=o.email)||void 0===a?void 0:a.message]}),Object(z.jsxs)("div",{className:"container-input",children:[Object(z.jsx)("label",{htmlFor:"password",children:"Password"}),Object(z.jsx)("input",Object(j.a)({className:"input",id:"password",type:"password",placeholder:"Enter your password"},s("password"))),null===(r=o.password)||void 0===r?void 0:r.message]}),Object(z.jsx)("div",{className:"container-button",children:Object(z.jsx)("button",{className:"button",type:"submit",children:"Send"})})]})})}),Wt=(n(495),yt((function(){return Object(z.jsx)(We,{hidenHeader:!0,children:Object(z.jsx)("div",{className:"singup",children:Object(z.jsx)(qt,{})})})}))),Ht=(n(496),yt((function(){return Object(z.jsx)(We,{children:Object(z.jsx)("div",{className:"users-table",children:Object(z.jsx)(pt,{})})})}))),At=n(42),Rt=n(305),Pt=n(327),Vt=n.n(Pt),Qt=(n(497),yt((function(){var e=we(),t=e.items,n=e.setSearch;return Object(z.jsx)(We,{children:Object(z.jsxs)("div",{className:"admin",children:[Object(z.jsxs)(lt.a,{component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:"100%",height:"2.5rem",marginBottom:"3rem",marginTop:"2rem",borderRadius:"1.2rem"},className:"input-search",children:[Object(z.jsx)(At.c,{sx:{ml:1,flex:1},placeholder:"Search",inputProps:{"aria-label":"search google maps"},onChange:function(e){n(e.target.value)}}),Object(z.jsx)(dt.a,{type:"submit",sx:{p:"15px"},"aria-label":"search",children:Object(z.jsx)(Vt.a,{})}),Object(z.jsx)(Rt.a,{sx:{height:28,m:.5},orientation:"vertical"})]}),Object(z.jsx)(Ye,{items:t.results,pageNumber:t.total_pages})]})})}))),Yt=(n(498),yt((function(){var e=we().dataMovieFb.items.filter((function(e){return"movie"===e.media_type}));return Object(z.jsx)(We,{children:Object(z.jsx)("div",{className:"movie",children:e.length>0?Object(z.jsx)(te,{items:e}):Object(z.jsx)("p",{className:"text-no-items",children:"There are no items added yet..."})})})}))),Gt=(n(499),yt((function(){var e=we().dataMovieFb.items.filter((function(e){return"tv"===e.media_type}));return Object(z.jsx)(We,{children:Object(z.jsx)("div",{className:"series",children:e.length>0?Object(z.jsx)(te,{items:e}):Object(z.jsx)("p",{className:"text-no-items",children:"There are no items added yet..."})})})}))),Jt=n(328),Xt=n.n(Jt),$t=(n(500),yt((function(){var e=we(),t=e.videos,n=e.dataMovieFb,a=Object(o.f)().goBack;return Object(z.jsx)(We,{children:Object(z.jsxs)("div",{className:"details-page",children:[Object(z.jsx)(ze,{videos:t}),Object(z.jsxs)("button",{className:"go-back",onClick:a,children:[Object(z.jsx)(Xt.a,{}),Object(z.jsx)("span",{children:"Go Back "})]}),Object(z.jsx)(qe,{items:n.items})]})})})));n(501);var Kt=function(){return Object(z.jsx)(l.a,{store:L,children:Object(z.jsx)(s.a,{children:Object(z.jsxs)(o.c,{children:[Object(z.jsx)(o.a,{path:"/admin",component:Qt}),Object(z.jsx)(o.a,{path:"/details/:id",component:$t}),Object(z.jsx)(o.a,{path:"/movies",component:Yt}),Object(z.jsx)(o.a,{path:"/series",component:Gt}),Object(z.jsx)(o.a,{path:"/login",component:Ut}),Object(z.jsx)(o.a,{path:"/sign-up",component:Wt}),Object(z.jsx)(o.a,{path:"/users",component:Ht}),Object(z.jsx)(o.a,{path:"/",component:wt})]})})})};i.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(Kt,{})}),document.getElementById("root"))}},[[503,1,2]]]);
//# sourceMappingURL=main.16ac32a2.chunk.js.map